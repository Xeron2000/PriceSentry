<div align="center">
  <img src="./img/logo.svg" width="100" alt="Project Logo">
</div>

<div align="center">
  <img src="https://readme-typing-svg.demolab.com?font=Fira+Code&size=34&pause=1000&center=true&vCenter=true&width=435&lines=PriceSentry" alt="Typing SVG">
</div>

<br>
<div align="center">
  <a href="LICENSE">
    <img src="https://img.shields.io/badge/License-MIT-green.svg" alt="License: MIT">
  </a>
  <a href="https://github.com/Xeron2000/PriceSentry/stargazers">
    <img src="https://img.shields.io/github/stars/Xeron2000/PriceSentry?style=social" alt="Star on GitHub">
  </a>
</div>

<h3 align="center">è½»é‡çº§åŠ å¯†è´§å¸æœŸè´§ä»·æ ¼ç›‘æ§å·¥å…· ğŸš¨</h3>
<h4 align="center" style="color: #666;">è¿½è¸ª Â· åˆ†æ Â· ä¿æŒæ•é”</h4>

<p align="center">
  <a href="README.md">English</a> |
  <a href="README_CN.md">ç®€ä½“ä¸­æ–‡</a>
</p>

---

## ğŸ“– ç›®å½•

- [é¡¹ç›®èµ·æº](#é¡¹ç›®èµ·æº)
- [æ ¸å¿ƒç‰¹æ€§](#æ ¸å¿ƒç‰¹æ€§)
- [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
  - [ä¸€é”®å®‰è£…ï¼ˆæ¨èï¼‰](#ä¸€é”®å®‰è£…æ¨è)
  - [æ‰‹åŠ¨å®‰è£…](#æ‰‹åŠ¨å®‰è£…)
- [é…ç½®æŒ‡å—](#é…ç½®æŒ‡å—)
  - [æ¨èï¼šæ‰‹åŠ¨é…ç½®](#æ¨èæ‰‹åŠ¨é…ç½®)
  - [è·å–å¸‚åœºæ•°æ®](#è·å–å¸‚åœºæ•°æ®)
  - [äº¤äº’å¼é…ç½®](#äº¤äº’å¼é…ç½®)
  - [é‡è¦æ³¨æ„äº‹é¡¹](#é‡è¦æ³¨æ„äº‹é¡¹)
  - [é«˜çº§é…ç½®](#é«˜çº§é…ç½®)
- [å¸¸ç”¨å‘½ä»¤](#å¸¸ç”¨å‘½ä»¤)
- [æ•…éšœæ’é™¤](#æ•…éšœæ’é™¤)
- [æˆªå›¾å±•ç¤º](#æˆªå›¾å±•ç¤º)
- [é¡¹ç›®ç»“æ„](#é¡¹ç›®ç»“æ„)
- [æŠ€æœ¯æ ˆ](#æŠ€æœ¯æ ˆ)
- [å¼€å‘æŒ‡å—](#å¼€å‘æŒ‡å—)
- [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)
- [è´¡çŒ®æŒ‡å—](#è´¡çŒ®æŒ‡å—)
- [è®¸å¯è¯](#è®¸å¯è¯)

---

## é¡¹ç›®èµ·æº

ä½œä¸ºä¸€åä¸“æ³¨çŸ­çº¿äº¤æ˜“çš„æœŸè´§äº¤æ˜“è€…,æˆ‘å¤§éƒ¨åˆ†æ—¶é—´éƒ½åœ¨ç›¯ç€ç¼ºä¹æ³¢åŠ¨çš„å¸‚åœº,è¿™æå¤§åœ°æ¶ˆè€—äº†æˆ‘çš„ç²¾åŠ›ã€‚ä½†å½“çœŸæ­£çš„å¸‚åœºè¡Œæƒ…æ¥ä¸´æ—¶,æˆ‘å¸Œæœ›èƒ½ç¬¬ä¸€æ—¶é—´æ•æ‰åˆ°è¿™äº›æœºä¼šã€‚å¸‚é¢ä¸Šçš„å·¥å…·è¦ä¹ˆè®¢é˜…è´¹ç”¨é«˜æ˜‚,è¦ä¹ˆç¼ºå°‘å®é™…äº¤æ˜“åœºæ™¯æ‰€éœ€çš„åŠŸèƒ½,å› æ­¤æˆ‘å†³å®šæ„å»ºä¸€ä¸ªè‡ªåŠ¨åŒ–çš„ç›‘æ§è§£å†³æ–¹æ¡ˆã€‚

PriceSentry åº”è¿è€Œç”Ÿâ€”â€”ä¸“ä¸ºé¢ä¸´ç±»ä¼¼æŒ‘æˆ˜çš„çŸ­çº¿æœŸè´§äº¤æ˜“è€…è®¾è®¡,å®Œå…¨å¼€æºä¸”å…è´¹,è®©ä½ çš„ç²¾åŠ›ä¸“æ³¨äºå†³ç­–,å°†é‡å¤æ€§çš„ç›‘æ§å·¥ä½œäº¤ç»™ç¨‹åºã€‚

---

## æ ¸å¿ƒç‰¹æ€§

- âœ… æ”¯æŒ Binanceã€OKX å’Œ Bybit æœŸè´§ä»·æ ¼ç›‘æ§,å¯è‡ªå®šä¹‰äº¤æ˜“å¯¹
- âœ… Telegram æ¶ˆæ¯æ¨é€ä»·æ ¼å˜åŠ¨å’Œå¥åº·æ£€æŸ¥,æ”¯æŒå¤šç”¨æˆ·ç»‘å®š
- âœ… YAML é©±åŠ¨çš„é…ç½®ç®¡ç†,å†…ç½®éªŒè¯å’Œç¼“å­˜æœºåˆ¶
- âœ… æ€§èƒ½ç›‘æ§ã€ç†”æ–­ä¿æŠ¤å’ŒæŒ‡æ•°é€€é¿é‡è¯•æœºåˆ¶,ç¡®ä¿ç¨³å®šæ€§
- âœ… å¯é€‰çš„ K çº¿å›¾è¡¨é™„ä»¶,ç›´è§‚å±•ç¤ºä»·æ ¼èµ°åŠ¿
- âœ… çµæ´»çš„é€šçŸ¥è¿‡æ»¤å™¨,åªæ¨é€ä½ å…³å¿ƒçš„äº¤æ˜“å¯¹

> æƒ³å…ˆè¯•ç”¨ä¸€ä¸‹ï¼Ÿè®¢é˜… [PriceSentry æœŸè´§ç›‘æ§](https://t.me/pricesentry) é¢‘é“è·å–å³æ—¶æ¨é€é€šçŸ¥ã€‚

---

## å¿«é€Ÿå¼€å§‹

### ä¸€é”®å®‰è£…ï¼ˆæ¨èï¼‰

ä½¿ç”¨ `uvx` ä¸€é”®å®‰è£…å¹¶è¿è¡Œ:

```bash
uvx --from git+https://github.com/Xeron2000/PriceSentry.git pricesentry
```

**é¦–æ¬¡è¿è¡Œæ­¥éª¤ï¼š**
1. äº¤äº’å¼é…ç½®æˆ–æ‰‹åŠ¨ç¼–è¾‘ `config/config.yaml`
2. è®¾ç½® Telegram Bot Tokenï¼ˆä» [@BotFather](https://t.me/botfather) è·å–ï¼‰
3. è®¾ç½® Telegram Chat IDï¼ˆé€šè¿‡ [@userinfobot](https://t.me/userinfobot) è·å–ï¼‰
4. **æ¨èä½¿ç”¨ OKX æˆ– Bybit äº¤æ˜“æ‰€**ï¼ˆBinance åœ¨æŸäº›åœ°åŒºæœ‰é™åˆ¶ï¼‰
5. ç¨‹åºä¼šè‡ªåŠ¨æ›´æ–°å¸‚åœºæ•°æ®å¹¶å¯åŠ¨ç›‘æ§

**æ–‡ä»¶ä¿å­˜ä½ç½®ï¼š**
```
å½“å‰ç›®å½•/
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ config.yaml              # é…ç½®æ–‡ä»¶
â”‚   â””â”€â”€ supported_markets.json   # å¸‚åœºæ•°æ®ï¼ˆè‡ªåŠ¨è·å–ï¼‰
```

### æ‰‹åŠ¨å®‰è£…

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/Xeron2000/PriceSentry.git
cd PriceSentry

# å®‰è£…ä¾èµ–
uv sync

# 1. åˆ›å»ºé…ç½®æ–‡ä»¶
uv run python tools/init_config.py

# 2. ç¼–è¾‘é…ç½®
vi config/config.yaml

# 3. è¿è¡Œå¸‚åœºæ•°æ®æ›´æ–°ï¼ˆä½¿ç”¨è„šæœ¬è·å–çœŸå®æ•°æ®ï¼‰
uv run python tools/update_markets.py

# 4. å¯åŠ¨ç›‘æ§
uv run python -m app.cli
```

---

## é…ç½®æŒ‡å—

### æ¨èï¼šæ‰‹åŠ¨é…ç½®

ç¼–è¾‘ `config/config.yaml`ï¼ˆæ¨èæ–¹å¼ï¼‰ï¼š

```yaml
# ä½¿ç”¨ OKX æˆ– Bybit é¿å…åœ°åŒºé™åˆ¶
exchange: "okx"  # okx, bybit, binance

# é»˜è®¤æ—¶é—´å‘¨æœŸï¼ˆK çº¿èšåˆçª—å£ï¼‰
defaultTimeframe: "5m"  # 1m, 5m, 15m, 1h, 1d

# ç›‘æ§ä»»åŠ¡æ£€æŸ¥é¢‘ç‡
checkInterval: "1m"

# ä»·æ ¼å˜åŒ–é˜ˆå€¼ï¼ˆç™¾åˆ†æ¯”ï¼‰
defaultThreshold: 1

# é€šçŸ¥æ¸ é“
notificationChannels:
  - "telegram"

# é€šçŸ¥äº¤æ˜“å¯¹ï¼ˆç•™ç©ºè¡¨ç¤ºæ¨é€æ‰€æœ‰ç›‘æ§åˆ°çš„åˆçº¦äº¤æ˜“å¯¹ï¼‰
notificationSymbols:
  - "BTC/USDT:USDT"
  - "ETH/USDT:USDT"
  - "SOL/USDT:USDT"

# Telegram æœºå™¨äººé…ç½®
telegram:
  # ä» @BotFather è·å–ï¼Œæ ¼å¼: æ•°å­—:å­—ç¬¦
  token: "123456789:ABCdefGHIjklMNOpqrsTUVwxyz"
  # ä» @userinfobot è·å–ï¼Œçº¯æ•°å­—
  chatId: "123456789"

# é€šçŸ¥æ—¶åŒº
notificationTimezone: "Asia/Shanghai"

# æ˜¯å¦åœ¨é€šçŸ¥ä¸­é™„å¸¦ä»·æ ¼å›¾è¡¨
attachChart: true

# å›¾è¡¨æ¸²æŸ“è®¾ç½®ï¼ˆattachChart ä¸º true æ—¶ç”Ÿæ•ˆï¼‰
chartTimeframe: "5m"
chartLookbackMinutes: 500
chartTheme: "dark"          # "dark" | "light"
chartImageWidth: 1600
chartImageHeight: 1200
chartImageScale: 2
```

### è·å–å¸‚åœºæ•°æ®

ä½¿ç”¨ `tools/update_markets.py` è„šæœ¬è·å–çœŸå®çš„äº¤æ˜“å¯¹æ•°æ®ï¼š

```bash
# æ›´æ–°å•ä¸ªäº¤æ˜“æ‰€çš„å¸‚åœºæ•°æ®
uv run python tools/update_markets.py --exchanges okx

# æ›´æ–°å¤šä¸ªäº¤æ˜“æ‰€çš„å¸‚åœºæ•°æ®
uv run python tools/update_markets.py --exchanges okx bybit

# æ›´æ–°æ‰€æœ‰æ”¯æŒäº¤æ˜“æ‰€çš„å¸‚åœºæ•°æ®
uv run python tools/update_markets.py
```

**æ³¨æ„ï¼š**
- è„šæœ¬ä¼šä»äº¤æ˜“æ‰€ API è·å–æœ€æ–°çš„äº¤æ˜“å¯¹åˆ—è¡¨
- æ•°æ®ä¼šä¿å­˜åˆ° `config/supported_markets.json`
- OKX/Bybit æ²¡æœ‰åœ°åŒºé™åˆ¶,å¯ä»¥æ­£å¸¸è·å–
- Binance åœ¨æŸäº›åœ°åŒºå¯èƒ½éœ€è¦ä»£ç†

### äº¤äº’å¼é…ç½®

é¦–æ¬¡è¿è¡Œ `pricesentry` å‘½ä»¤æ—¶,å¦‚æœé…ç½®æ–‡ä»¶ä¸å­˜åœ¨,ä¼šè‡ªåŠ¨è¿›å…¥é…ç½®å‘å¯¼,ç„¶åè‡ªåŠ¨è·å–å¸‚åœºæ•°æ®ã€‚

**æ³¨æ„ï¼š** ç”±äºäº¤äº’å¼é…ç½®åœ¨éäº¤äº’å¼ç¯å¢ƒï¼ˆå¦‚ shell è„šæœ¬ï¼‰å¯èƒ½æœ‰é—®é¢˜ï¼Œ**æ¨èæ‰‹åŠ¨ç¼–è¾‘é…ç½®æ–‡ä»¶**ã€‚

### é‡è¦æ³¨æ„äº‹é¡¹

1. **Binance åœ°åŒºé™åˆ¶ï¼š**
   - Binance API åœ¨æŸäº›åœ°åŒºï¼ˆå¦‚ä¸­å›½ï¼‰å¯èƒ½è¢«é™åˆ¶
   - **æ¨èä½¿ç”¨ OKX æˆ– Bybit**

2. **Telegram Token æ ¼å¼ï¼š**
   - å¿…é¡»æ˜¯ `æ•°å­—:å­—ç¬¦` æ ¼å¼
   - ç¤ºä¾‹ï¼š`123456789:ABCdefGHIjklMNOpqrsTUVwxyz`
   - âŒ é”™è¯¯ï¼š`my_token_123`
   - âœ… æ­£ç¡®ï¼š`123456789:ABCdefGHIjklMNOpqrsTUVwxyz`

3. **Chat ID æ ¼å¼ï¼š**
   - å¿…é¡»æ˜¯çº¯æ•°å­—
   - é€šè¿‡ [@userinfobot](https://t.me/userinfobot) è·å–

4. **äº¤æ˜“å¯¹æ ¼å¼ï¼š**
   - OKX/Bybit ä½¿ç”¨ `BTC/USDT:USDT` æ ¼å¼
   - Binance ä½¿ç”¨ `BTC/USDT:USDT` æ ¼å¼
   - ç¡®ä¿æ ¼å¼ä¸äº¤æ˜“æ‰€åŒ¹é…

### é«˜çº§é…ç½®

ä½¿ç”¨é…ç½®åˆå§‹åŒ–å·¥å…·è¿›è¡Œé«˜çº§é…ç½®:

```bash
uv run python tools/init_config.py
```

æ”¯æŒçš„å‚æ•°:
- `--force`: è¦†ç›–ç°æœ‰é…ç½®
- `--non-interactive`: ç›´æ¥å¤åˆ¶æ¨¡æ¿

---

## å¸¸ç”¨å‘½ä»¤

| åŠŸèƒ½ | å‘½ä»¤ |
| --- | --- |
| å¯åŠ¨ç›‘æ§ | `uv run python -m app.cli` æˆ– `pricesentry` |
| ç¼–è¾‘é…ç½® | `vi config/config.yaml` |
| é‡æ–°é…ç½® | `rm config/config.yaml && pricesentry` |
| æ›´æ–°å¸‚åœºæ•°æ® | `uv run python tools/update_markets.py` |
| æ›´æ–°æŒ‡å®šäº¤æ˜“æ‰€ | `uv run python tools/update_markets.py --exchanges okx` |
| è¿è¡Œæµ‹è¯• | `uv run pytest` |
| è¿è¡Œä»£ç æ£€æŸ¥ | `uv run ruff check src/` |
| ä»£ç æ ¼å¼åŒ– | `uv run ruff format src/` |

---

## æ•…éšœæ’é™¤

### 1. å¯åŠ¨æŠ¥é”™ï¼š`No valid notification symbols`

**åŸå› ï¼š** é…ç½®çš„äº¤æ˜“å¯¹æ ¼å¼ä¸æ­£ç¡®æˆ–å¸‚åœºæ•°æ®æœªæ›´æ–°

**è§£å†³æ–¹æ¡ˆï¼š**
```bash
# 1. æ£€æŸ¥é…ç½®æ–‡ä»¶ä¸­çš„äº¤æ˜“å¯¹æ ¼å¼
vi config/config.yaml

# 2. ç¡®ä¿æ ¼å¼ä¸º "BTC/USDT:USDT"ï¼ˆæ³¨æ„å†’å·ï¼‰

# 3. æ›´æ–°å¸‚åœºæ•°æ®
uv run python tools/update_markets.py --exchanges okx

# 4. é‡æ–°å¯åŠ¨
uv run python -m app.cli
```

### 2. å¯åŠ¨æŠ¥é”™ï¼š`'PriceSentry' object has no attribute 'matched_symbols'`

**åŸå› ï¼š** è¿™æ˜¯æ—§ç‰ˆæœ¬çš„ bugï¼Œå·²åœ¨æœ€æ–°ç‰ˆæœ¬ä¸­ä¿®å¤

**è§£å†³æ–¹æ¡ˆï¼š**
```bash
# æ‹‰å–æœ€æ–°ä»£ç 
git pull origin main

# é‡æ–°å®‰è£…
uv sync

# é‡æ–°å¯åŠ¨
uv run python -m app.cli
```

### 3. Binance API è¿æ¥è¶…æ—¶

**åŸå› ï¼š** Binance API åœ¨æŸäº›åœ°åŒºè¢«é™åˆ¶

**è§£å†³æ–¹æ¡ˆï¼š**
```yaml
# ä¿®æ”¹ config/config.yaml
exchange: "okx"  # æˆ– "bybit"
```

### 4. Telegram æ¶ˆæ¯æœªæ”¶åˆ°

**æ£€æŸ¥æ¸…å•ï¼š**
- âœ… Token æ ¼å¼æ˜¯å¦æ­£ç¡®ï¼ˆ`æ•°å­—:å­—ç¬¦`ï¼‰
- âœ… Chat ID æ˜¯å¦æ­£ç¡®ï¼ˆçº¯æ•°å­—ï¼‰
- âœ… æ˜¯å¦å‘æœºå™¨äººå‘é€è¿‡ `/start` å‘½ä»¤
- âœ… ç½‘ç»œæ˜¯å¦æ­£å¸¸ï¼ˆæŸäº›åœ°åŒºéœ€è¦ä»£ç†ï¼‰

---

## æˆªå›¾å±•ç¤º

<div align="center">
  <img src="https://raw.githubusercontent.com/Xeron2000/PriceSentry/refs/heads/main/img/tg.jpg" alt="Telegram Notification Example" width="520">
</div>

---

## é¡¹ç›®ç»“æ„

```
PriceSentry/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/              # åº”ç”¨å…¥å£ï¼ˆCLIï¼‰
â”‚   â”‚   â”œâ”€â”€ cli.py        # å‘½ä»¤è¡Œæ¥å£
â”‚   â”‚   â””â”€â”€ runner.py     # è¿è¡Œå™¨
â”‚   â”œâ”€â”€ core/             # æ ¸å¿ƒé€»è¾‘
â”‚   â”‚   â”œâ”€â”€ config_manager.py  # é…ç½®ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ notifier.py        # é€šçŸ¥åˆ†å‘å™¨
â”‚   â”‚   â””â”€â”€ sentry.py          # ç›‘æ§å¼•æ“
â”‚   â”œâ”€â”€ exchanges/        # äº¤æ˜“æ‰€é€‚é…å™¨
â”‚   â”‚   â”œâ”€â”€ base.py       # åŸºç±»
â”‚   â”‚   â”œâ”€â”€ binance.py    # Binance å®ç°
â”‚   â”‚   â”œâ”€â”€ okx.py        # OKX å®ç°
â”‚   â”‚   â””â”€â”€ bybit.py      # Bybit å®ç°
â”‚   â”œâ”€â”€ notifications/    # é€šçŸ¥æ¸ é“
â”‚   â”‚   â”œâ”€â”€ telegram.py             # Telegram é€šçŸ¥å™¨
â”‚   â”‚   â””â”€â”€ telegram_bot_service.py # Telegram Bot æœåŠ¡
â”‚   â”œâ”€â”€ utils/            # å·¥å…·åº“
â”‚   â”‚   â”œâ”€â”€ cache_manager.py        # ç¼“å­˜ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ error_handler.py        # é”™è¯¯å¤„ç†
â”‚   â”‚   â”œâ”€â”€ performance_monitor.py  # æ€§èƒ½ç›‘æ§
â”‚   â”‚   â”œâ”€â”€ chart.py                # å›¾è¡¨ç”Ÿæˆ
â”‚   â”‚   â””â”€â”€ config_validator.py     # é…ç½®éªŒè¯
â”‚   â””â”€â”€ config/           # é…ç½®æ¨¡å—
â”œâ”€â”€ tests/                # æµ‹è¯•
â”‚   â”œâ”€â”€ unit/             # å•å…ƒæµ‹è¯•
â”‚   â””â”€â”€ integration/      # é›†æˆæµ‹è¯•
â”œâ”€â”€ tools/                # å·¥å…·è„šæœ¬
â”‚   â”œâ”€â”€ init_config.py    # é…ç½®åˆå§‹åŒ–
â”‚   â””â”€â”€ update_markets.py # å¸‚åœºæ•°æ®æ›´æ–°
â””â”€â”€ config/               # é…ç½®æ–‡ä»¶ç›®å½•
    â”œâ”€â”€ config.yaml.example         # é…ç½®æ¨¡æ¿
    â””â”€â”€ supported_markets.json      # å¸‚åœºæ•°æ®
```

---

## æŠ€æœ¯æ ˆ

**æ ¸å¿ƒä¾èµ–ï¼š**
- **CCXT**: åŠ å¯†è´§å¸äº¤æ˜“æ‰€ç»Ÿä¸€ API åº“
- **Python-Telegram-Bot**: Telegram Bot API å°è£…
- **WebSockets**: WebSocket è¿æ¥ç®¡ç†
- **Matplotlib + mplfinance**: K çº¿å›¾è¡¨ç”Ÿæˆ
- **PyYAML**: é…ç½®æ–‡ä»¶è§£æ
- **ExpiringDict**: è¿‡æœŸç¼“å­˜ç®¡ç†

**å¼€å‘å·¥å…·ï¼š**
- **Pytest**: å•å…ƒæµ‹è¯•æ¡†æ¶
- **Ruff**: ä»£ç æ ¼å¼åŒ–å’Œ Linting
- **Bandit + Safety**: å®‰å…¨å®¡è®¡å·¥å…·
- **uv**: ç°ä»£ Python åŒ…ç®¡ç†å™¨

---

## å¼€å‘æŒ‡å—

### ç¯å¢ƒè®¾ç½®

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/Xeron2000/PriceSentry.git
cd PriceSentry

# å®‰è£…ä¾èµ–ï¼ˆåŒ…æ‹¬å¼€å‘ä¾èµ–ï¼‰
uv sync --all-extras

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
source .venv/bin/activate  # Linux/macOS
# æˆ–
.venv\Scripts\activate     # Windows
```

### è¿è¡Œæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
uv run pytest

# è¿è¡Œå•ä¸ªæµ‹è¯•æ–‡ä»¶
uv run pytest tests/test_core_sentry.py

# è¿è¡Œå¸¦è¦†ç›–ç‡æŠ¥å‘Šçš„æµ‹è¯•
uv run pytest --cov=src --cov-report=html

# è¿è¡Œç‰¹å®šæµ‹è¯•
uv run pytest tests/test_core_sentry.py::TestPriceSentry::test_init_basic
```

### ä»£ç è´¨é‡æ£€æŸ¥

```bash
# è¿è¡Œ Ruff æ£€æŸ¥
uv run ruff check src/

# è‡ªåŠ¨ä¿®å¤å¯ä¿®å¤çš„é—®é¢˜
uv run ruff check src/ --fix

# ä»£ç æ ¼å¼åŒ–
uv run ruff format src/

# å®‰å…¨å®¡è®¡
uv run bandit -r src/
uv run pip-audit
```

### æ·»åŠ æ–°çš„äº¤æ˜“æ‰€æ”¯æŒ

1. åœ¨ `src/exchanges/` ç›®å½•ä¸‹åˆ›å»ºæ–°æ–‡ä»¶ï¼ˆå¦‚ `new_exchange.py`ï¼‰
2. ç»§æ‰¿ `BaseExchange` ç±»å¹¶å®ç°æ‰€æœ‰æŠ½è±¡æ–¹æ³•
3. åœ¨ `src/utils/get_exchange.py` ä¸­æ³¨å†Œæ–°äº¤æ˜“æ‰€
4. æ›´æ–° `tools/update_markets.py` ä»¥æ”¯æŒè·å–æ–°äº¤æ˜“æ‰€çš„å¸‚åœºæ•°æ®
5. æ·»åŠ ç›¸åº”çš„æµ‹è¯•ç”¨ä¾‹

ç¤ºä¾‹:

```python
# src/exchanges/new_exchange.py
from .base import BaseExchange

class NewExchange(BaseExchange):
    def __init__(self):
        super().__init__("new_exchange")

    # å®ç°æ‰€æœ‰æŠ½è±¡æ–¹æ³•
    # ...
```

---

## å¸¸è§é—®é¢˜

### Q1: PriceSentry æ”¯æŒå“ªäº›äº¤æ˜“æ‰€ï¼Ÿ

A: ç›®å‰æ”¯æŒ Binanceã€OKX å’Œ Bybitã€‚æ¨èä½¿ç”¨ OKX æˆ– Bybitï¼Œå› ä¸ºå®ƒä»¬æ²¡æœ‰åœ°åŒºé™åˆ¶ã€‚

### Q2: å¦‚ä½•æ·»åŠ æ›´å¤šäº¤æ˜“å¯¹ï¼Ÿ

A: ç¼–è¾‘ `config/config.yaml` æ–‡ä»¶ï¼Œåœ¨ `notificationSymbols` åˆ—è¡¨ä¸­æ·»åŠ äº¤æ˜“å¯¹:

```yaml
notificationSymbols:
  - "BTC/USDT:USDT"
  - "ETH/USDT:USDT"
  - "SOL/USDT:USDT"
  - "XRP/USDT:USDT"
```

### Q3: å¦‚ä½•ä¿®æ”¹ä»·æ ¼å˜åŠ¨é˜ˆå€¼ï¼Ÿ

A: ç¼–è¾‘ `config/config.yaml` æ–‡ä»¶ä¸­çš„ `defaultThreshold` å€¼:

```yaml
defaultThreshold: 2  # è®¾ç½®ä¸º 2% çš„ä»·æ ¼å˜åŠ¨é˜ˆå€¼
```

### Q4: å¯ä»¥åŒæ—¶ç›‘æ§å¤šä¸ªäº¤æ˜“æ‰€å—ï¼Ÿ

A: ç›®å‰ä¸æ”¯æŒåŒæ—¶ç›‘æ§å¤šä¸ªäº¤æ˜“æ‰€ã€‚å¦‚éœ€ç›‘æ§å¤šä¸ªäº¤æ˜“æ‰€ï¼Œå¯ä»¥è¿è¡Œå¤šä¸ª PriceSentry å®ä¾‹ï¼Œæ¯ä¸ªå®ä¾‹ä½¿ç”¨ä¸åŒçš„é…ç½®æ–‡ä»¶ã€‚

### Q5: å›¾è¡¨åŠŸèƒ½å¯ä»¥å…³é—­å—ï¼Ÿ

A: å¯ä»¥ã€‚åœ¨ `config/config.yaml` ä¸­è®¾ç½®:

```yaml
attachChart: false
```

### Q6: å¦‚ä½•è·å– Telegram Bot Tokenï¼Ÿ

A:
1. åœ¨ Telegram ä¸­æœç´¢ [@BotFather](https://t.me/botfather)
2. å‘é€ `/newbot` å‘½ä»¤åˆ›å»ºæ–°æœºå™¨äºº
3. æŒ‰ç…§æç¤ºè®¾ç½®æœºå™¨äººåç§°å’Œç”¨æˆ·å
4. BotFather ä¼šè¿”å›ä½ çš„ Token

### Q7: å¦‚ä½•è·å– Telegram Chat IDï¼Ÿ

A:
1. åœ¨ Telegram ä¸­æœç´¢ [@userinfobot](https://t.me/userinfobot)
2. å‘é€ä»»æ„æ¶ˆæ¯
3. æœºå™¨äººä¼šè¿”å›ä½ çš„ Chat ID

### Q8: ç¨‹åºå ç”¨èµ„æºå¤šå—ï¼Ÿ

A: PriceSentry éå¸¸è½»é‡çº§ï¼Œå¹³å‡å†…å­˜å ç”¨çº¦ 50-100MBï¼ŒCPU å ç”¨å‡ ä¹å¯ä»¥å¿½ç•¥ä¸è®¡ã€‚

---

## è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ï¼æˆ‘ä»¬éµå¾ªä»¥ä¸‹æµç¨‹ï¼š

1. **Fork ä»“åº“**
2. **åˆ›å»ºç‰¹æ€§åˆ†æ”¯**: `git checkout -b feature/amazing-feature`
3. **æäº¤å˜æ›´**: `git commit -m 'feat: add amazing feature'`
4. **æ¨é€åˆ†æ”¯**: `git push origin feature/amazing-feature`
5. **æäº¤ Pull Request**

### æäº¤æ¶ˆæ¯è§„èŒƒ

æˆ‘ä»¬ä½¿ç”¨ [Conventional Commits](https://www.conventionalcommits.org/) è§„èŒƒï¼š

- `feat:` æ–°åŠŸèƒ½
- `fix:` é”™è¯¯ä¿®å¤
- `docs:` æ–‡æ¡£æ›´æ–°
- `style:` ä»£ç æ ¼å¼è°ƒæ•´ï¼ˆä¸å½±å“ä»£ç é€»è¾‘ï¼‰
- `refactor:` ä»£ç é‡æ„
- `test:` æµ‹è¯•ç›¸å…³
- `chore:` æ„å»º/å·¥å…·ç›¸å…³

### ä»£ç è§„èŒƒ

- éµå¾ª PEP 8 è§„èŒƒ
- ä½¿ç”¨ Ruff è¿›è¡Œä»£ç æ£€æŸ¥å’Œæ ¼å¼åŒ–
- ä¸ºæ–°åŠŸèƒ½æ·»åŠ æµ‹è¯•
- æ›´æ–°ç›¸å…³æ–‡æ¡£

---

## è®¸å¯è¯

MIT License - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

---

<div align="center">
  <p>å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™å®ƒä¸€ä¸ª â­ï¸ï¼</p>
  <p>æœ‰é—®é¢˜ï¼Ÿæ¬¢è¿æäº¤ <a href="https://github.com/Xeron2000/PriceSentry/issues">Issue</a></p>
</div>
